name: Netlify Deploy

on:
  push:
      branches:
        - master
  # schedule:
  # - cron: "51 15 * * *"

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Verify Changed files
      uses: tj-actions/verify-changed-files@v5.5
      id: changed_files
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        files:
          .(md)$
    - name: Display changed files
      if: steps.changed_files.outputs.files_changed == 'true'
      run: |
        echo "Changed files: ${{ steps.changed_files.outputs.changed_files }}"
    - name: Trigger Netlify Hook when _posts folder change
      if: steps.changed_files.outputs.files_changed == 'true'
      run: curl -X POST ${{ secrets.NETLIFY_BUILD_URL }}
